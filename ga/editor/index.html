<!--
-->
<html>
	<head>
		<title>Clifford geometry</title>
		<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
		<style>
			body {
				margin: 0px;
				overflow: hidden;
			}
		</style>
	</head>
	<body>
		<script>
			async function technicalInit()
			{
				initButtons()

				renderer.shadowMap.enabled = true;
				renderer.setClearColor(0x2B2B2B)
				renderer.shadowMap.type = THREE.BasicShadowMap;
				document.body.appendChild( renderer.domElement );

				initWindowResizeSystemAndSurroundings(renderer);
				initMouse()
				initSound()

				await init()

				function render()
				{
					let clockDelta = clock.getDelta()
					frameDelta = clockDelta < .1 ? clockDelta : .1 //clamped because debugger pauses create weirdness
					
					mouse.updateFromAsyncAndCheckClicks()

					{
						thingMouseIsOn = "left"
						let mouseX = mouse.getZZeroPosition(v1).x
						if (outputColumn.right() < mouseX)
							thingMouseIsOn = "pad"
						else if (outputColumn.left() < mouseX && mouseX < outputColumn.right())
							thingMouseIsOn = "column"
						for (let i = 0; i < displayWindows.length; i++)
						{
							mouse.getZZeroPosition(v1)
							displayWindows[i].screen.worldToLocal(v1)
							if (-.5 < v1.x && v1.x < .5 &&
								-.5 < v1.y && v1.y < .5)
								thingMouseIsOn = displayWindows[i]
						}
					}

					for(var i = 0; i < updateFunctions.length; i++)
						updateFunctions[i]()

					++frameCount

					requestAnimationFrame( render )
					renderer.render( scene, camera )
				}

				render()
			}
		</script>

		<script src="../common/lib/three.js"></script>
		<script src="../common/lib/OBJLoader.js"></script>
		<script src="../common/miscFunctions.js"></script>
		<script src="../common/mouse.js"></script>
		<script src="../common/text.js"></script>
		<script src="../common/sound.js"></script>
		<script src="../common/buttons.js"></script>
		
		<script src="../common/algebra.js"></script>

		<script src="windowResizeSystemAndSurroundings.js"></script>

		<script src="init.js"></script>
		<script src="multivectorAppearance.js"></script>
		<script src="funcViz.js"></script>
		<script src="displayWindow.js"></script>

		<script src="hoberman.js"></script>

		<script src="pad.js"></script>

		<script src="../common/variables.js"></script>
		<script src="variables.js"></script>

		<script>
			technicalInit()
		</script>
	</body>
</html>